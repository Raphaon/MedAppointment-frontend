
    <div class="dashboard-layout">
      <mat-toolbar color="primary" class="toolbar">
        <span class="logo">üè• MedAppointment</span>
        <span class="spacer"></span>
        
        <app-notification-center></app-notification-center>
        
        <button mat-icon-button [matMenuTriggerFor]="userMenu">
          <mat-icon>account_circle</mat-icon>
        </button>
        
        <mat-menu #userMenu="matMenu">
          <div class="user-info">
            <p class="user-name">{{ currentUser?.firstName }} {{ currentUser?.lastName }}</p>
            <p class="user-role">{{ getRoleLabel() }}</p>
          </div>
          <mat-divider></mat-divider>
          <button mat-menu-item routerLink="/profile">
            <mat-icon>person</mat-icon>
            <span>Mon profil</span>
          </button>
          <button mat-menu-item (click)="logout()">
            <mat-icon>logout</mat-icon>
            <span>D√©connexion</span>
          </button>
        </mat-menu>
      </mat-toolbar>

      <div class="dashboard-content">
        <div class="welcome-section">
          <h1>üëã Bienvenue, {{ currentUser?.firstName }} !</h1>
          <p class="subtitle">{{ getWelcomeMessage() }}</p>
        </div>

        <!-- Statistiques -->
        <div class="stats-grid">
          <app-stat-card
            *ngFor="let stat of stats"
            [title]="stat.title"
            [value]="stat.value"
            [icon]="stat.icon"
            [color]="stat.color"
            [routerLink]="stat.route">
          </app-stat-card>
        </div>

        <!-- Actions rapides selon le r√¥le -->
        <div class="actions-section">
          <h2>Actions rapides</h2>
          <div class="actions-grid">
            
            <!-- Actions Patient -->
            <ng-container *ngIf="currentUser?.role === UserRole.PATIENT">
              <mat-card class="action-card" routerLink="/doctors">
                <mat-icon color="primary">search</mat-icon>
                <h3>Trouver un m√©decin</h3>
                <p>Parcourez notre liste de m√©decins qualifi√©s</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/appointments/create">
                <mat-icon color="accent">event</mat-icon>
                <h3>Prendre RDV</h3>
                <p>R√©servez un rendez-vous avec votre m√©decin</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/appointments">
                <mat-icon color="warn">list</mat-icon>
                <h3>Mes rendez-vous</h3>
                <p>Consultez vos rendez-vous √† venir</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/profile">
                <mat-icon>person</mat-icon>
                <h3>Mon profil</h3>
                <p>G√©rez vos informations m√©dicales</p>
              </mat-card>
            </ng-container>

            <!-- Actions M√©decin -->
            <ng-container *ngIf="currentUser?.role === UserRole.DOCTOR">
              <mat-card class="action-card" routerLink="/calendar">
                <mat-icon color="primary">calendar_month</mat-icon>
                <h3>Mon calendrier</h3>
                <p>Vue calendrier de vos rendez-vous</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/appointments">
                <mat-icon color="accent">event</mat-icon>
                <h3>Mes consultations</h3>
                <p>G√©rez vos rendez-vous patients</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/profile">
                <mat-icon color="warn">local_hospital</mat-icon>
                <h3>Mon profil m√©decin</h3>
                <p>Mettez √† jour vos informations professionnelles</p>
              </mat-card>
            </ng-container>

            <!-- Actions Admin -->
            <ng-container *ngIf="currentUser?.role === UserRole.ADMIN">
              <mat-card class="action-card" routerLink="/users">
                <mat-icon color="primary">people</mat-icon>
                <h3>Utilisateurs</h3>
                <p>G√©rez les utilisateurs de la plateforme</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/appointments">
                <mat-icon color="accent">event</mat-icon>
                <h3>Tous les RDV</h3>
                <p>Supervisez tous les rendez-vous</p>
              </mat-card>

              <mat-card class="action-card" routerLink="/doctors">
                <mat-icon color="warn">local_hospital</mat-icon>
                <h3>M√©decins</h3>
                <p>Liste des m√©decins inscrits</p>
              </mat-card>
            </ng-container>
          </div>
        </div>

        <!-- Prochains RDV -->
        <div class="upcoming-section" *ngIf="upcomingAppointments.length > 0">
          <h2>üìÖ Prochains rendez-vous</h2>
          <div class="appointments-list">
            <mat-card *ngFor="let appointment of upcomingAppointments" class="appointment-card">
              <div class="appointment-date">
                <div class="day">{{ getDay(appointment.appointmentDate) }}</div>
                <div class="month">{{ getMonth(appointment.appointmentDate) }}</div>
              </div>
              <div class="appointment-details">
                <h3>{{ getAppointmentTitle(appointment) }}</h3>
                <p class="time">
                  <mat-icon>schedule</mat-icon>
                  {{ getTime(appointment.appointmentDate) }}
                </p>
                <p class="reason">{{ appointment.reason }}</p>
              </div>
              <div class="appointment-status">
                <span class="status-badge" [class]="appointment.status.toLowerCase()">
                  {{ getStatusLabel(appointment.status) }}
                </span>
              </div>
            </mat-card>
          </div>
        </div>
      </div>
    </div>
